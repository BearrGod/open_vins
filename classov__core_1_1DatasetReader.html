<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>ov_core::DatasetReader class | OpenVINS</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,400i,600,600i%7CSource+Code+Pro:400,400i,600&amp;subset=latin-ext" />
  <link rel="stylesheet" href="m-udel+documentation.compiled.css" />
  <link rel="stylesheet" href="custom.css" />
  <link rel="icon" href="favicon-light.png" type="image/png" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="#2f73a3" />
</head>
<body>
<header><nav id="navigation">
  <div class="m-container">
    <div class="m-row">
      <a href="index.html" id="m-navbar-brand" class="m-col-t-8 m-col-m-none m-left-m">OpenVINS</a>
      <div class="m-col-t-4 m-hide-m m-text-right m-nopadr">
        <a href="#search" class="m-doc-search-icon" title="Search" onclick="return showSearch()"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
          <path id="m-doc-search-icon-path" d="m6 0c-3.31 0-6 2.69-6 6 0 3.31 2.69 6 6 6 1.49 0 2.85-0.541 3.89-1.44-0.0164 0.338 0.147 0.759 0.5 1.15l3.22 3.79c0.552 0.614 1.45 0.665 2 0.115 0.55-0.55 0.499-1.45-0.115-2l-3.79-3.22c-0.392-0.353-0.812-0.515-1.15-0.5 0.895-1.05 1.44-2.41 1.44-3.89 0-3.31-2.69-6-6-6zm0 1.56a4.44 4.44 0 0 1 4.44 4.44 4.44 4.44 0 0 1-4.44 4.44 4.44 4.44 0 0 1-4.44-4.44 4.44 4.44 0 0 1 4.44-4.44z"/>
        </svg></a>
        <a id="m-navbar-show" href="#navigation" title="Show navigation"></a>
        <a id="m-navbar-hide" href="#" title="Hide navigation"></a>
      </div>
      <div id="m-navbar-collapse" class="m-col-t-12 m-show-m m-col-m-none m-right-m">
        <div class="m-row">
          <ol class="m-col-t-6 m-col-m-none">
            <li><a href="pages.html">Pages</a></li>
            <li><a href="annotated.html">Classes</a></li>
            <li><a href="namespaceov__core.html">ov_core</a></li>
            <li><a href="namespaceov__type.html">ov_type</a></li>
            <li><a href="namespaceov__msckf.html">ov_msckf</a></li>
            <li><a href="namespaceov__init.html">ov_init</a></li>
            <li><a href="namespaceov__eval.html">ov_eval</a></li>
          </ol>
          <ol class="m-col-t-6 m-col-m-none" start="8">
            <li><a href="https://github.com/rpng/open_vins/">GitHub</a></li>
            <li class="m-show-m"><a href="#search" class="m-doc-search-icon" title="Search" onclick="return showSearch()"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
              <use href="#m-doc-search-icon-path" />
            </svg></a></li>
          </ol>
        </div>
      </div>
    </div>
  </div>
</nav></header>
<main><article>
  <div class="m-container m-container-inflatable">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <h1>
          <span class="m-breadcrumb"><a href="namespaceov__core.html">ov_core</a>::<wbr/></span>DatasetReader <span class="m-thin">class</span>
        </h1>
        <p>Helper functions to read in dataset files.</p>
        <div class="m-block m-default">
          <h3>Contents</h3>
          <ul>
            <li>
              Reference
              <ul>
                <li><a href="#pub-static-methods">Public static functions</a></li>
              </ul>
            </li>
          </ul>
        </div>
<p>This file has some nice functions for reading dataset files. One of the main datasets that we test against is the EuRoC MAV dataset. We have some nice utility functions here that handle loading of the groundtruth data. This can be used to initialize the system or for plotting and calculation of RMSE values without needing any alignment.</p><blockquote><p>M. Burri, J. Nikolic, P. Gohl, T. Schneider, J. Rehder, S. Omari,M. Achtelik and R. Siegwart, &quot;The EuRoC micro aerial vehicle datasets&quot;, International Journal of Robotic Research, DOI: 10.1177/0278364915620033, 2016. <a href="https://projects.asl.ethz.ch/datasets/doku.php?id=kmavvisualinertialdatasets">https:/<wbr />/<wbr />projects.asl.ethz.ch/<wbr />datasets/<wbr />doku.php?id=kmavvisualinertialdatasets</a>.</p></blockquote>
        <section id="pub-static-methods">
          <h2><a href="#pub-static-methods">Public static functions</a></h2>
          <dl class="m-doc">
            <dt>
              <span class="m-doc-wrap-bumper">static void <a href="#a948c021c3e3d80afe6a7248fd8423104" class="m-doc">load_gt_file</a>(</span><span class="m-doc-wrap">std::string path,
              std::map&lt;double, Eigen::Matrix&lt;double, 17, 1&gt;&gt;&amp; gt_states)</span>
            </dt>
            <dd>Load a ASL format groundtruth file.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">static auto <a href="#af7827150c03a1871d5211764699ef0eb" class="m-doc">get_gt_state</a>(</span><span class="m-doc-wrap">double timestep,
              Eigen::Matrix&lt;double, 17, 1&gt;&amp; imustate,
              std::map&lt;double, Eigen::Matrix&lt;double, 17, 1&gt;&gt;&amp; gt_states) -&gt; bool</span>
            </dt>
            <dd>Gets the 17x1 groundtruth state at a given timestep.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">static void <a href="#accb2a66a6468edf517c254aaa2e691d4" class="m-doc">load_simulated_trajectory</a>(</span><span class="m-doc-wrap">std::string path,
              std::vector&lt;Eigen::VectorXd&gt;&amp; traj_data)</span>
            </dt>
            <dd>This will load the trajectory into memory (space separated)</dd>
          </dl>
        </section>
        <section>
          <h2>Function documentation</h2>
          <section class="m-doc-details" id="a948c021c3e3d80afe6a7248fd8423104"><div>
            <h3>
              <span class="m-doc-wrap-bumper">static void ov_core::<wbr />DatasetReader::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a948c021c3e3d80afe6a7248fd8423104" class="m-doc-self">load_gt_file</a>(</span><span class="m-doc-wrap">std::string path,
              std::map&lt;double, Eigen::Matrix&lt;double, 17, 1&gt;&gt;&amp; gt_states)</span></span>
            </h3>
            <p>Load a ASL format groundtruth file.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">path</td>
                  <td>Path to the CSV file of groundtruth data</td>
                </tr>
                <tr>
                  <td>gt_states</td>
                  <td>Will be filled with groundtruth states</td>
                </tr>
              </tbody>
            </table>
<p>Here we will try to load a groundtruth file that is in the ASL/EUROCMAV format. If we can&#x27;t open the file, or it is in the wrong format we will error and exit the program. See <a href="classov__core_1_1DatasetReader.html#af7827150c03a1871d5211764699ef0eb" class="m-doc">get_<wbr />gt_<wbr />state()</a> for a way to get the groundtruth state at a given timestep</p>
          </div></section>
          <section class="m-doc-details" id="af7827150c03a1871d5211764699ef0eb"><div>
            <h3>
              <span class="m-doc-wrap-bumper">static bool ov_core::<wbr />DatasetReader::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#af7827150c03a1871d5211764699ef0eb" class="m-doc-self">get_gt_state</a>(</span><span class="m-doc-wrap">double timestep,
              Eigen::Matrix&lt;double, 17, 1&gt;&amp; imustate,
              std::map&lt;double, Eigen::Matrix&lt;double, 17, 1&gt;&gt;&amp; gt_states)</span></span>
            </h3>
            <p>Gets the 17x1 groundtruth state at a given timestep.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">timestep</td>
                  <td>timestep we want to get the groundtruth for</td>
                </tr>
                <tr>
                  <td>imustate</td>
                  <td>groundtruth state [time(sec),q_GtoI,p_IinG,v_IinG,b_gyro,b_accel]</td>
                </tr>
                <tr>
                  <td>gt_states</td>
                  <td>Should be loaded with groundtruth states, see <a href="classov__core_1_1DatasetReader.html#a948c021c3e3d80afe6a7248fd8423104" class="m-doc">load_<wbr />gt_<wbr />file()</a> for details</td>
                </tr>
              </tbody>
              <tfoot>
                <tr>
                  <th>Returns</th>
                  <td>true if we found the state, false otherwise</td>
                </tr>
              </tfoot>
            </table>
          </div></section>
          <section class="m-doc-details" id="accb2a66a6468edf517c254aaa2e691d4"><div>
            <h3>
              <span class="m-doc-wrap-bumper">static void ov_core::<wbr />DatasetReader::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#accb2a66a6468edf517c254aaa2e691d4" class="m-doc-self">load_simulated_trajectory</a>(</span><span class="m-doc-wrap">std::string path,
              std::vector&lt;Eigen::VectorXd&gt;&amp; traj_data)</span></span>
            </h3>
            <p>This will load the trajectory into memory (space separated)</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">path</td>
                  <td>Path to the trajectory file that we want to read in.</td>
                </tr>
                <tr>
                  <td>traj_data</td>
                  <td>Will be filled with groundtruth states (timestamp(s), q_GtoI, p_IinG)</td>
                </tr>
              </tbody>
            </table>
          </div></section>
        </section>
      </div>
    </div>
  </div>
</article></main>
<div class="m-doc-search" id="search">
  <a href="#!" onclick="return hideSearch()"></a>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-m-8 m-push-m-2">
        <div class="m-doc-search-header m-text m-small">
          <div><span class="m-label m-default">Tab</span> / <span class="m-label m-default">T</span> to search, <span class="m-label m-default">Esc</span> to close</div>
          <div id="search-symbolcount">&hellip;</div>
        </div>
        <div class="m-doc-search-content">
          <form>
            <input type="search" name="q" id="search-input" placeholder="Loading &hellip;" disabled="disabled" autofocus="autofocus" autocomplete="off" spellcheck="false" />
          </form>
          <noscript class="m-text m-danger m-text-center">Unlike everything else in the docs, the search functionality <em>requires</em> JavaScript.</noscript>
          <div id="search-help" class="m-text m-dim m-text-center">
            <p class="m-noindent">Search for symbols, directories, files, pages or
            modules. You can omit any prefix from the symbol or file path; adding a
            <code>:</code> or <code>/</code> suffix lists all members of given symbol or
            directory.</p>
            <p class="m-noindent">Use <span class="m-label m-dim">&darr;</span>
            / <span class="m-label m-dim">&uarr;</span> to navigate through the list,
            <span class="m-label m-dim">Enter</span> to go.
            <span class="m-label m-dim">Tab</span> autocompletes common prefix, you can
            copy a link to the result using <span class="m-label m-dim">⌘</span>
            <span class="m-label m-dim">L</span> while <span class="m-label m-dim">⌘</span>
            <span class="m-label m-dim">M</span> produces a Markdown link.</p>
          </div>
          <div id="search-notfound" class="m-text m-warning m-text-center">Sorry, nothing was found.</div>
          <ul id="search-results"></ul>
        </div>
      </div>
    </div>
  </div>
</div>
<script src="search-v1.js"></script>
<script src="searchdata-v1.js" async="async"></script>
<footer><nav>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <p>Generated by <a href="https://doxygen.org/">Doxygen</a> 1.8.19 and <a href="https://mcss.mosra.cz/">m.css</a>.</p>
      </div>
    </div>
  </div>
</nav></footer>
</body>
</html>
