<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>ov_core::Feature class | OpenVINS</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,400i,600,600i%7CSource+Code+Pro:400,400i,600&amp;subset=latin-ext" />
  <link rel="stylesheet" href="m-udel+documentation.compiled.css" />
  <link rel="stylesheet" href="custom.css" />
  <link rel="icon" href="favicon-light.png" type="image/png" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="#2f73a3" />
</head>
<body>
<header><nav id="navigation">
  <div class="m-container">
    <div class="m-row">
      <a href="index.html" id="m-navbar-brand" class="m-col-t-8 m-col-m-none m-left-m">OpenVINS</a>
      <div class="m-col-t-4 m-hide-m m-text-right m-nopadr">
        <a href="#search" class="m-doc-search-icon" title="Search" onclick="return showSearch()"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
          <path id="m-doc-search-icon-path" d="m6 0c-3.31 0-6 2.69-6 6 0 3.31 2.69 6 6 6 1.49 0 2.85-0.541 3.89-1.44-0.0164 0.338 0.147 0.759 0.5 1.15l3.22 3.79c0.552 0.614 1.45 0.665 2 0.115 0.55-0.55 0.499-1.45-0.115-2l-3.79-3.22c-0.392-0.353-0.812-0.515-1.15-0.5 0.895-1.05 1.44-2.41 1.44-3.89 0-3.31-2.69-6-6-6zm0 1.56a4.44 4.44 0 0 1 4.44 4.44 4.44 4.44 0 0 1-4.44 4.44 4.44 4.44 0 0 1-4.44-4.44 4.44 4.44 0 0 1 4.44-4.44z"/>
        </svg></a>
        <a id="m-navbar-show" href="#navigation" title="Show navigation"></a>
        <a id="m-navbar-hide" href="#" title="Hide navigation"></a>
      </div>
      <div id="m-navbar-collapse" class="m-col-t-12 m-show-m m-col-m-none m-right-m">
        <div class="m-row">
          <ol class="m-col-t-6 m-col-m-none">
            <li><a href="pages.html">Pages</a></li>
            <li><a href="annotated.html">Classes</a></li>
            <li><a href="namespaceov__core.html">ov_core</a></li>
            <li><a href="namespaceov__type.html">ov_type</a></li>
            <li><a href="namespaceov__msckf.html">ov_msckf</a></li>
            <li><a href="namespaceov__init.html">ov_init</a></li>
            <li><a href="namespaceov__eval.html">ov_eval</a></li>
          </ol>
          <ol class="m-col-t-6 m-col-m-none" start="8">
            <li><a href="https://github.com/rpng/open_vins/">GitHub</a></li>
            <li class="m-show-m"><a href="#search" class="m-doc-search-icon" title="Search" onclick="return showSearch()"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
              <use href="#m-doc-search-icon-path" />
            </svg></a></li>
          </ol>
        </div>
      </div>
    </div>
  </div>
</nav></header>
<main><article>
  <div class="m-container m-container-inflatable">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <h1>
          <span class="m-breadcrumb"><a href="namespaceov__core.html">ov_core</a>::<wbr/></span>Feature <span class="m-thin">class</span>
        </h1>
        <p>Sparse feature class used to collect measurements.</p>
        <div class="m-block m-default">
          <h3>Contents</h3>
          <ul>
            <li>
              Reference
              <ul>
                <li><a href="#pub-methods">Public functions</a></li>
                <li><a href="#pub-attribs">Public variables</a></li>
              </ul>
            </li>
          </ul>
        </div>
<p>This feature class allows for holding of all tracking information for a given feature. Each feature has a unique ID assigned to it, and should have a set of feature tracks alongside it. See the <a href="classov__core_1_1FeatureDatabase.html" class="m-doc">FeatureDatabase</a> class for details on how we load information into this, and how we delete features.</p>
        <section id="pub-methods">
          <h2><a href="#pub-methods">Public functions</a></h2>
          <dl class="m-doc">
            <dt>
              <span class="m-doc-wrap-bumper">void <a href="#aee27e65f3de5581ededd30646479e315" class="m-doc">clean_old_measurements</a>(</span><span class="m-doc-wrap">const std::vector&lt;double&gt;&amp; valid_times)</span>
            </dt>
            <dd>Remove measurements that do not occur at passed timestamps.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">void <a href="#a9daa91fb3836d23563bdc9aad6686ee1" class="m-doc">clean_invalid_measurements</a>(</span><span class="m-doc-wrap">const std::vector&lt;double&gt;&amp; invalid_times)</span>
            </dt>
            <dd>Remove measurements that occur at the invalid timestamps.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">void <a href="#ad5426e15b7fb0f1f315c12465c63787d" class="m-doc">clean_older_measurements</a>(</span><span class="m-doc-wrap">double timestamp)</span>
            </dt>
            <dd>Remove measurements that are older then the specified timestamp.</dd>
          </dl>
        </section>
        <section id="pub-attribs">
          <h2><a href="#pub-attribs">Public variables</a></h2>
          <dl class="m-doc">
            <dt id="a2d29cbda05723b3c681fca9d9c08a6b6">
              size_t <a href="#a2d29cbda05723b3c681fca9d9c08a6b6" class="m-doc-self">featid</a>
            </dt>
            <dd>Unique ID of this feature.</dd>
            <dt id="afd7ba032d3f576d6cedff37326a00766">
              bool <a href="#afd7ba032d3f576d6cedff37326a00766" class="m-doc-self">to_delete</a>
            </dt>
            <dd>If this feature should be deleted.</dd>
            <dt id="a0158e28d76464ab4daa4ac498270b6a0">
              std::unordered_map&lt;size_t, std::vector&lt;Eigen::VectorXf&gt;&gt; <a href="#a0158e28d76464ab4daa4ac498270b6a0" class="m-doc-self">uvs</a>
            </dt>
            <dd>UV coordinates that this feature has been seen from (mapped by camera ID)</dd>
            <dt id="a9eb23faca74853073bf7625c9cdfe93f">
              std::unordered_map&lt;size_t, std::vector&lt;Eigen::VectorXf&gt;&gt; <a href="#a9eb23faca74853073bf7625c9cdfe93f" class="m-doc-self">uvs_norm</a>
            </dt>
            <dd>UV normalized coordinates that this feature has been seen from (mapped by camera ID)</dd>
            <dt id="a16de72ae07065bc81570d63ec694d743">
              std::unordered_map&lt;size_t, std::vector&lt;double&gt;&gt; <a href="#a16de72ae07065bc81570d63ec694d743" class="m-doc-self">timestamps</a>
            </dt>
            <dd>Timestamps of each UV measurement (mapped by camera ID)</dd>
            <dt id="a9d3c50ff0d0e511fc859d6537c90f192">
              int <a href="#a9d3c50ff0d0e511fc859d6537c90f192" class="m-doc-self">anchor_cam_id</a>
            </dt>
            <dd>What camera ID our pose is anchored in!! By default the first measurement is the anchor.</dd>
            <dt id="abf559a10ad1ccf1ba44500d2c81fc765">
              double <a href="#abf559a10ad1ccf1ba44500d2c81fc765" class="m-doc-self">anchor_clone_timestamp</a>
            </dt>
            <dd>Timestamp of anchor clone.</dd>
            <dt id="a7c7616f29b0a254a12cdb6244c1f5953">
              Eigen::Vector3d <a href="#a7c7616f29b0a254a12cdb6244c1f5953" class="m-doc-self">p_FinA</a>
            </dt>
            <dd>Triangulated position of this feature, in the anchor frame.</dd>
            <dt id="a5e9697cf6bd37a344ddaff0631778278">
              Eigen::Vector3d <a href="#a5e9697cf6bd37a344ddaff0631778278" class="m-doc-self">p_FinG</a>
            </dt>
            <dd>Triangulated position of this feature, in the global frame.</dd>
          </dl>
        </section>
        <section>
          <h2>Function documentation</h2>
          <section class="m-doc-details" id="aee27e65f3de5581ededd30646479e315"><div>
            <h3>
              <span class="m-doc-wrap-bumper">void ov_core::<wbr />Feature::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#aee27e65f3de5581ededd30646479e315" class="m-doc-self">clean_old_measurements</a>(</span><span class="m-doc-wrap">const std::vector&lt;double&gt;&amp; valid_times)</span></span>
            </h3>
            <p>Remove measurements that do not occur at passed timestamps.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">valid_times</td>
                  <td>Vector of timestamps that our measurements must occur at</td>
                </tr>
              </tbody>
            </table>
<p>Given a series of valid timestamps, this will remove all measurements that have not occurred at these times. This would normally be used to ensure that the measurements that we have occur at our clone times.</p>
          </div></section>
          <section class="m-doc-details" id="a9daa91fb3836d23563bdc9aad6686ee1"><div>
            <h3>
              <span class="m-doc-wrap-bumper">void ov_core::<wbr />Feature::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a9daa91fb3836d23563bdc9aad6686ee1" class="m-doc-self">clean_invalid_measurements</a>(</span><span class="m-doc-wrap">const std::vector&lt;double&gt;&amp; invalid_times)</span></span>
            </h3>
            <p>Remove measurements that occur at the invalid timestamps.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">invalid_times</td>
                  <td>Vector of timestamps that our measurements should not</td>
                </tr>
              </tbody>
            </table>
<p>Given a series of invalid timestamps, this will remove all measurements that have occurred at these times.</p>
          </div></section>
          <section class="m-doc-details" id="ad5426e15b7fb0f1f315c12465c63787d"><div>
            <h3>
              <span class="m-doc-wrap-bumper">void ov_core::<wbr />Feature::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#ad5426e15b7fb0f1f315c12465c63787d" class="m-doc-self">clean_older_measurements</a>(</span><span class="m-doc-wrap">double timestamp)</span></span>
            </h3>
            <p>Remove measurements that are older then the specified timestamp.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">timestamp</td>
                  <td>Timestamps that our measurements must occur after</td>
                </tr>
              </tbody>
            </table>
<p>Given a valid timestamp, this will remove all measurements that have occured earlier then this.</p>
          </div></section>
        </section>
      </div>
    </div>
  </div>
</article></main>
<div class="m-doc-search" id="search">
  <a href="#!" onclick="return hideSearch()"></a>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-m-8 m-push-m-2">
        <div class="m-doc-search-header m-text m-small">
          <div><span class="m-label m-default">Tab</span> / <span class="m-label m-default">T</span> to search, <span class="m-label m-default">Esc</span> to close</div>
          <div id="search-symbolcount">&hellip;</div>
        </div>
        <div class="m-doc-search-content">
          <form>
            <input type="search" name="q" id="search-input" placeholder="Loading &hellip;" disabled="disabled" autofocus="autofocus" autocomplete="off" spellcheck="false" />
          </form>
          <noscript class="m-text m-danger m-text-center">Unlike everything else in the docs, the search functionality <em>requires</em> JavaScript.</noscript>
          <div id="search-help" class="m-text m-dim m-text-center">
            <p class="m-noindent">Search for symbols, directories, files, pages or
            modules. You can omit any prefix from the symbol or file path; adding a
            <code>:</code> or <code>/</code> suffix lists all members of given symbol or
            directory.</p>
            <p class="m-noindent">Use <span class="m-label m-dim">&darr;</span>
            / <span class="m-label m-dim">&uarr;</span> to navigate through the list,
            <span class="m-label m-dim">Enter</span> to go.
            <span class="m-label m-dim">Tab</span> autocompletes common prefix, you can
            copy a link to the result using <span class="m-label m-dim">⌘</span>
            <span class="m-label m-dim">L</span> while <span class="m-label m-dim">⌘</span>
            <span class="m-label m-dim">M</span> produces a Markdown link.</p>
          </div>
          <div id="search-notfound" class="m-text m-warning m-text-center">Sorry, nothing was found.</div>
          <ul id="search-results"></ul>
        </div>
      </div>
    </div>
  </div>
</div>
<script src="search-v1.js"></script>
<script src="searchdata-v1.js" async="async"></script>
<footer><nav>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <p>Generated by <a href="https://doxygen.org/">Doxygen</a> 1.8.20 and <a href="https://mcss.mosra.cz/">m.css</a>.</p>
      </div>
    </div>
  </div>
</nav></footer>
</body>
</html>
